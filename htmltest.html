<!DOCTYPE html>
<html>
<head>
<style>
     body {
       font-family: Arial, sans-serif;
     }

     .chatbox {
       width: 400px;
       height: 400px;
       background-color: #f2f2f2;
       padding: 20px;
       overflow-y: scroll;
     }

     .message {
       margin-bottom: 10px;
       padding: 10px;
       border-radius: 10px;
     }

     .user-message {
       background-color: #f0f0f0;
       color: blue;
     }

     .bot-message {
       background-color: #d7f2d7;
       color: green;
     }

     .input-container {
       display: flex;
       margin-top: 20px;
     }

     .input-container input[type="text"] {
       flex: 1;
       padding: 5px;
       border: none;
       border-radius: 5px;
     }

     .input-container button {
       padding: 5px 10px;
       border: none;
       border-radius: 5px;
       background-color: #4CAF50;
       color: white;
       cursor: pointer;
     }
</style>
</head>
<body>
   <div class="chatbox" id="chatbox"></div>
   <div class="input-container">
     <input type="text" id="userInput" placeholder="Type your message" />
     <button onclick="sendMessage()">Send</button>
   </div>

   <script>
     function sendMessage() {
       const userInput = document.getElementById('userInput').value;
       const chatbox = document.getElementById('chatbox');

       const lowercaseInput = userInput.toLowerCase();

       if (lowercaseInput.includes('how are you')) {
         const botMessage = createMessage('bot-message', 'Chatbot is ' + getBotMood());
         chatbox.appendChild(botMessage);
       } else if (lowercaseInput.startsWith('how to')) {
         const instruction = userInput.slice(7).trim();
         const botMessage = createMessage('bot-message', 'Okay, I can help you with ' + instruction + '. You will ' + instruction + ' when ' + getInstructionResponse());
         chatbox.appendChild(botMessage);
       } else if (lowercaseInput.includes('fortnite')) {
         const botMessage = createMessage('bot-message', 'Fortnite is a strategic game in which you can build and fight. In this game, there is multiplayer and skins. There is also crafting and weapons in Fortnite.');
         chatbox.appendChild(botMessage);
       } else if (lowercaseInput.includes('minecraft')) {
         const botMessage = createMessage('bot-message', 'Minecraft is a strategic game in which you can build and fight. In this game, there is multiplayer and skins. There is also crafting and weapons in Minecraft.');
         chatbox.appendChild(botMessage);
       } else {
         const userMessage = createMessage('user-message', 'User: ' + userInput);
         chatbox.appendChild(userMessage);

         const botMessage = createMessage('bot-message', 'Chatbot: Sorry, I cannot understand that.');
         chatbox.appendChild(botMessage);
       }

       // Scroll to the bottom of the chatbox
       chatbox.scrollTop = chatbox.scrollHeight;

       // Clear the user input
       document.getElementById('userInput').value = '';

       // Save conversation in the URL
       const encodedConversation = encodeURIComponent(chatbox.innerHTML);
       const currentURL = window.location.href.split('?')[0];
       const newURL = currentURL + '?conversation=' + encodedConversation;
       window.history.pushState({}, '', newURL);
     }

     function createMessage(className, text) {
       const message = document.createElement('div');
       message.className = 'message ' + className;
       message.textContent = text;
       return message;
     }

     function getBotMood() {
       // Generate a random number between 0 and 1
       const randomNumber = Math.random();

       if (randomNumber < 0.5) {
         return 'good';
       } else {
         return 'bad';
       }
     }

     function getInstructionResponse() {
       const randomNumber = Math.random();

       if (randomNumber < 0.5) {
         return 'you will understand that it is important to think carefully about how to do it, think about how it could go, and thus arrive at the best option.';
       } else {
         return 'you will arrive at the best option to solve it as simply as possible.';
       }
     }

     // Load conversation from URL if available
     function loadConversationFromURL() {
       const urlParams = new URLSearchParams(window.location.search);
       const encodedConversation = urlParams.get('conversation');
       if (encodedConversation) {
         const conversation = decodeURIComponent(encodedConversation);
         chatbox.innerHTML = conversation;
       }
     }

     loadConversationFromURL();
   </script>
</body>
</html>
